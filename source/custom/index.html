---
title: custom
layout: false
---
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/custom/css/index.css">
<div class="container">
  <header><a href="/">blog</a></header>
  <div class="content">
    主人很懒，什么都没留下。。。
  </div>
  <div class="btn-next-box">
    <i class="fa fa-chevron-circle-right btn-next"
       onclick="nextImg()"
       aria-hidden="true"></i>
  </div>
</div>
<script>
  var d = 0, wait = false
  var width = document.body.offsetWidth, height = document.body.offsetHeight
  function nextImg(type) {
    if (wait) {
      return
    }
    wait = true
    document.querySelector('.btn-next').style.cursor = 'wait'
    var img = new Image()
    if (type === 'rand') {
      img.src = 'https://bing.ioliu.cn/v1/rand'
    } else {
      img.src = `https://bing.ioliu.cn/v1/rand?w=${width}&h=${height}&x=${d++}`
    }
    img.onload = function() {
      document.querySelector('.container').style.background = `url(${img.src}) center center/cover no-repeat`
      document.querySelector('.btn-next').style.cursor = `pointer`
      wait = false
    }
    img.onerror = function() {
      alert('背景图片挂了')
      document.querySelector('.btn-next').style.cursor = `pointer`
      wait = false
    }
  }
  nextImg('rand')
</script>